// Code generated by github.com/light-speak/lighthouse, DO NOT EDIT.
package models

import  "github.com/light-speak/lighthouse/graphql/model"


type Comment struct {
  model.Model
  Commentable interface{} `json:"commentable" gorm:"-" `
  Content string `gorm:"type:varchar(255)" json:"content" `
  CommentableId int64 `json:"commentable_id" gorm:"index:commentable" `
  CommentableType string `json:"commentable_type" gorm:"index:commentable;type:varchar(255)" `
}

func (*Comment) IsModel() bool { return true }
func (*Comment) TableName() string { return "comments" }
func (*Comment) TypeName() string { return "comment" }
func CommentEnumFields(key string) func(interface{}) interface{} {
  return nil
}

type User struct {
  model.Model
  Name string `json:"name" gorm:"index;type:varchar(255)" `
  MyPosts *[]Post `json:"my_posts" gorm:"-" `
  Wallet *Wallet `json:"wallet" gorm:"-" `
  Tags *[]Tag `gorm:"-" json:"tags" `
}

func (*User) IsModel() bool { return true }
func (*User) IsHasName() bool { return true }
func (this *User) GetName() string { return this.Name }
func (*User) TableName() string { return "users" }
func (*User) TypeName() string { return "user" }
func UserEnumFields(key string) func(interface{}) interface{} {
  return nil
}

type Wallet struct {
  model.Model
  User *User `gorm:"-" json:"user" `
  Balance int64 `json:"balance" `
  UserId int64 `json:"user_id" `
}

func (*Wallet) IsModel() bool { return true }
func (*Wallet) TableName() string { return "wallets" }
func (*Wallet) TypeName() string { return "wallet" }
func WalletEnumFields(key string) func(interface{}) interface{} {
  return nil
}

type Article struct {
  model.Model
  Name string `gorm:"type:varchar(255)" json:"name" `
  Content string `json:"content" gorm:"type:varchar(255)" `
}

func (*Article) IsModel() bool { return true }
func (*Article) TableName() string { return "articles" }
func (*Article) TypeName() string { return "article" }
func ArticleEnumFields(key string) func(interface{}) interface{} {
  return nil
}

type Tag struct {
  model.Model
  Name string `json:"name" gorm:"type:varchar(255)" `
}

func (*Tag) IsModel() bool { return true }
func (*Tag) TableName() string { return "tags" }
func (*Tag) TypeName() string { return "tag" }
func TagEnumFields(key string) func(interface{}) interface{} {
  return nil
}

type UserTag struct {
  model.Model
  Tag *Tag `json:"tag" gorm:"-" `
  UserId int64 `gorm:"uniqueIndex:user_tag_index" json:"user_id" `
  TagId int64 `json:"tag_id" gorm:"uniqueIndex:user_tag_index" `
  User *User `json:"user" gorm:"-" `
}

func (*UserTag) IsModel() bool { return true }
func (*UserTag) TableName() string { return "user_tags" }
func (*UserTag) TypeName() string { return "user_tag" }
func UserTagEnumFields(key string) func(interface{}) interface{} {
  return nil
}

type Post struct {
  model.ModelSoftDelete
  Title string `json:"title" gorm:"index;type:varchar(255)" `
  UserId int64 `json:"user_id" gorm:"index" `
  TagId int64 `json:"tag_id" `
  BackId int64 `json:"back_id" `
  Enum TestEnum `json:"enum" `
  FuckingAttr string `json:"fucking_attr" gorm:"-" `
  Comments *[]Comment `json:"comments" gorm:"-" `
  Content string `json:"content" gorm:"type:varchar(255)" `
  IsBool bool `json:"is_bool" gorm:"default:false" `
  User *User `json:"user" gorm:"-" `
}

func (*Post) IsModel() bool { return true }
func (*Post) TableName() string { return "posts" }
func (*Post) TypeName() string { return "post" }
func PostEnumFields(key string) func(interface{}) interface{} {
  switch key {
  case "enum":
    return func(value interface{}) interface{} {
      switch v := value.(type) {
      case int64:
        return TestEnum(v)
      case int8:
        return TestEnum(v)
      default:
        return v
      }
    }
  }
  return nil
}


func Migrate() error {
	return model.GetDB().AutoMigrate(
    &Comment{},
    &User{},
    &Wallet{},
    &Article{},
    &Tag{},
    &UserTag{},
    &Post{},
  )
}